@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   BASE â€” Notebook Paper Foundation
   ============================================ */

@layer base {
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        font-family: var(--font-sketch), "Patrick Hand", cursive;
        background-color: #fdfcf8;
        color: #1a1a1a;
        overflow-x: hidden;
        position: relative;
        font-size: 1.15rem;
        line-height: 1.6;
    }

    ::selection {
        background-color: #fff9c4;
        color: #1a1a1a;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: "Caveat", cursive;
        font-weight: 700;
        letter-spacing: -0.01em;
    }

    a {
        color: inherit;
        text-decoration: none;
    }

    code {
        font-family: "JetBrains Mono", monospace;
    }
}

/* ============================================
   NOTEBOOK PAPER â€” Ruled Lines & Margin
   ============================================ */

@layer components {
    /* Container that looks like a notebook page */
    .notebook-page {
        position: relative;
        background-color: #fdfcf8;
        background-image: repeating-linear-gradient(
            transparent,
            transparent 31px,
            #c8d8e8 31px,
            #c8d8e8 32px
        );
        background-size: 100% 32px;
        background-position: 0 0;
    }

    /* Red margin line on the left */
    .notebook-margin {
        position: relative;
    }

    .notebook-margin::before {
        content: "";
        position: absolute;
        left: 4.5rem;
        top: 0;
        bottom: 0;
        width: 2px;
        background-color: #e88e8e;
        opacity: 0.6;
        pointer-events: none;
        z-index: 1;
    }

    /* Spiral binding holes */
    .notebook-holes {
        position: relative;
    }

    .notebook-holes::after {
        content: "";
        position: absolute;
        left: 1.2rem;
        top: 2rem;
        width: 14px;
        height: 14px;
        background: #eae6de;
        border: 2px solid #ccc8c0;
        border-radius: 50%;
        box-shadow:
            0 64px 0 0 #eae6de,
            0 64px 0 2px #ccc8c0,
            0 128px 0 0 #eae6de,
            0 128px 0 2px #ccc8c0,
            0 192px 0 0 #eae6de,
            0 192px 0 2px #ccc8c0,
            0 256px 0 0 #eae6de,
            0 256px 0 2px #ccc8c0,
            0 320px 0 0 #eae6de,
            0 320px 0 2px #ccc8c0,
            0 384px 0 0 #eae6de,
            0 384px 0 2px #ccc8c0,
            0 448px 0 0 #eae6de,
            0 448px 0 2px #ccc8c0;
        z-index: 2;
        pointer-events: none;
    }

    /* ============================================
     SKETCH CARD â€” Like a page taped into notebook
     ============================================ */

    .sketch-card {
        @apply relative bg-white p-6 md:p-8;
        border: 2.5px solid #1a1a1a;
        border-radius: 4px;
        box-shadow: 4px 4px 0px #1a1a1a;
        transition: all 0.2s ease;
    }

    .sketch-card:hover {
        box-shadow: 7px 7px 0px #1a1a1a;
        transform: translateY(-3px) rotate(-0.3deg);
    }

    .sketch-card:active {
        box-shadow: 1px 1px 0px #1a1a1a;
        transform: translateY(1px) translateX(1px);
    }

    /* ============================================
     STICKY NOTE â€” Post-it style cards
     ============================================ */

    .sticky-note {
        @apply relative p-5 md:p-6;
        border-radius: 2px;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.12);
        transition: all 0.25s ease;
    }

    .sticky-note::before {
        content: "";
        position: absolute;
        top: -3px;
        left: 0;
        right: 0;
        height: 6px;
        background: inherit;
        filter: brightness(0.92);
        border-radius: 2px 2px 0 0;
    }

    .sticky-note:hover {
        box-shadow: 5px 5px 12px rgba(0, 0, 0, 0.18);
        transform: translateY(-2px) rotate(0.5deg);
    }

    .sticky-yellow {
        background-color: #fff9c4;
    }

    .sticky-pink {
        background-color: #fce4ec;
    }

    .sticky-blue {
        background-color: #e3f2fd;
    }

    .sticky-green {
        background-color: #e8f5e9;
    }

    .sticky-orange {
        background-color: #fff3e0;
    }

    /* ============================================
     TAPE EFFECT â€” Masking tape holding things down
     ============================================ */

    .tape {
        position: relative;
    }

    .tape::before {
        content: "";
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%) rotate(-2deg);
        width: 80px;
        height: 26px;
        background: rgba(255, 255, 220, 0.65);
        border: 1px solid rgba(200, 190, 150, 0.3);
        z-index: 5;
        pointer-events: none;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
    }

    .tape-left::before {
        left: 15%;
        transform: rotate(-15deg);
    }

    .tape-right::before {
        left: auto;
        right: 10%;
        transform: rotate(12deg);
    }

    .tape-both::before {
        top: -10px;
        left: 12%;
        transform: rotate(-8deg);
        width: 70px;
    }

    .tape-both::after {
        content: "";
        position: absolute;
        top: -8px;
        right: 12%;
        transform: rotate(10deg);
        width: 70px;
        height: 26px;
        background: rgba(255, 255, 220, 0.65);
        border: 1px solid rgba(200, 190, 150, 0.3);
        z-index: 5;
        pointer-events: none;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
    }

    /* Pushpin effect */
    .pushpin {
        position: relative;
    }

    .pushpin::before {
        content: "ðŸ“Œ";
        position: absolute;
        top: -12px;
        right: 16px;
        font-size: 1.3rem;
        z-index: 10;
        transform: rotate(15deg);
        filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.15));
    }

    /* ============================================
     SKETCH BUTTONS â€” Comic book style
     ============================================ */

    .btn-sketch {
        @apply inline-flex items-center gap-2 px-6 py-3;
        font-family: "Patrick Hand", cursive;
        font-size: 1.15rem;
        border: 2.5px solid #1a1a1a;
        border-radius: 6px;
        box-shadow: 3px 3px 0px #1a1a1a;
        cursor: pointer;
        transition: all 0.15s ease;
        position: relative;
        text-decoration: none;
        user-select: none;
    }

    .btn-sketch:hover {
        box-shadow: 5px 5px 0px #1a1a1a;
        transform: translateY(-2px) rotate(-0.5deg);
    }

    .btn-sketch:active {
        box-shadow: 1px 1px 0px #1a1a1a;
        transform: translateY(1px) translateX(1px) rotate(0deg);
    }

    .btn-sketch-primary {
        @apply btn-sketch;
        background-color: #1a1a1a;
        color: #fdfcf8;
    }

    .btn-sketch-primary:hover {
        background-color: #2a2a2a;
    }

    .btn-sketch-secondary {
        @apply btn-sketch;
        background-color: #fdfcf8;
        color: #1a1a1a;
    }

    .btn-sketch-secondary:hover {
        background-color: #fff9c4;
    }

    /* ============================================
     SCRIBBLE TAGS â€” Handwritten tech tags
     ============================================ */

    .scribble-tag {
        @apply inline-block px-3 py-0.5;
        font-family: "Caveat", cursive;
        font-size: 1rem;
        font-weight: 500;
        border: 1.5px dashed #4a4a4a;
        border-radius: 4px;
        color: #4a4a4a;
        background-color: transparent;
        transition: all 0.2s ease;
    }

    .scribble-tag:hover {
        background-color: #fff9c4;
        border-style: solid;
        transform: rotate(-1deg);
    }

    /* ============================================
     WAVY UNDERLINE â€” Doodle heading decoration
     ============================================ */

    .doodle-underline {
        position: relative;
        display: inline-block;
    }

    .doodle-underline::after {
        content: "";
        position: absolute;
        left: -4px;
        right: -4px;
        bottom: -4px;
        height: 8px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 8'%3E%3Cpath d='M0 4 Q10 0 20 4 Q30 8 40 4 Q50 0 60 4 Q70 8 80 4 Q90 0 100 4 Q110 8 120 4' fill='none' stroke='%231a1a1a' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E");
        background-repeat: repeat-x;
        background-size: 60px 8px;
        pointer-events: none;
    }

    .doodle-underline-red::after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 8'%3E%3Cpath d='M0 4 Q10 0 20 4 Q30 8 40 4 Q50 0 60 4 Q70 8 80 4 Q90 0 100 4 Q110 8 120 4' fill='none' stroke='%23e57373' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E");
    }

    .doodle-underline-blue::after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 8'%3E%3Cpath d='M0 4 Q10 0 20 4 Q30 8 40 4 Q50 0 60 4 Q70 8 80 4 Q90 0 100 4 Q110 8 120 4' fill='none' stroke='%2364b5f6' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E");
    }

    /* ============================================
     DOODLE CIRCLE â€” Hand-drawn circle emphasis
     ============================================ */

    .doodle-circle {
        position: relative;
        display: inline-block;
    }

    .doodle-circle::before {
        content: "";
        position: absolute;
        inset: -8px -14px;
        border: 2.5px solid #e57373;
        border-radius: 55% 45% 50% 50% / 45% 55% 45% 55%;
        transform: rotate(-2deg);
        pointer-events: none;
        opacity: 0.8;
    }

    /* ============================================
     SECTION HEADINGS â€” Notebook chapter style
     ============================================ */

    .notebook-heading {
        font-family: "Caveat", cursive;
        font-weight: 700;
        color: #1a1a1a;
        letter-spacing: -0.01em;
    }

    .notebook-subtext {
        font-family: "Patrick Hand", cursive;
        color: #4a4a4a;
        font-size: 1.25rem;
        line-height: 1.6;
    }

    /* ============================================
     CODE BLOCK â€” Looks like scribbled code
     ============================================ */

    .sketch-code {
        @apply relative px-5 py-4;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.85rem;
        background-color: #f5f0e8;
        border: 2px solid #1a1a1a;
        border-radius: 6px;
        box-shadow: 3px 3px 0px #1a1a1a;
        color: #1a1a1a;
        overflow-x: auto;
    }

    .sketch-code .keyword {
        color: #e57373;
        font-weight: 500;
    }

    .sketch-code .string {
        color: #81c784;
    }

    .sketch-code .variable {
        color: #64b5f6;
        font-weight: 500;
    }

    .sketch-code .comment {
        color: #999;
        font-style: italic;
    }

    /* ============================================
     DOODLE BUBBLE â€” Speech/thought bubble style
     ============================================ */

    .doodle-bubble {
        @apply relative bg-white p-4;
        border: 2.5px solid #1a1a1a;
        border-radius: 20px;
        box-shadow: 3px 3px 0px #1a1a1a;
    }

    .doodle-bubble::after {
        content: "";
        position: absolute;
        bottom: -15px;
        left: 30px;
        width: 0;
        height: 0;
        border: 10px solid transparent;
        border-top-color: #1a1a1a;
        border-bottom: 0;
    }

    .doodle-bubble::before {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 33px;
        width: 0;
        height: 0;
        border: 7px solid transparent;
        border-top-color: white;
        border-bottom: 0;
        z-index: 1;
    }

    /* ============================================
     PAGE DIVIDER â€” Torn / sketched divider
     ============================================ */

    .sketch-divider {
        position: relative;
        height: 2px;
        background: transparent;
        margin: 3rem 0;
    }

    .sketch-divider::before {
        content: "";
        position: absolute;
        left: 5%;
        right: 5%;
        top: 0;
        height: 2px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 4'%3E%3Cpath d='M0 2 C20 0, 30 4, 50 2 C70 0, 80 4, 100 2 C120 0, 130 4, 150 2 C170 0, 180 4, 200 2' fill='none' stroke='%23b8b8b8' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
        background-repeat: repeat-x;
        background-size: 100px 4px;
    }

    .sketch-divider-doodle::after {
        content: "~ ~ ~";
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        font-family: "Caveat", cursive;
        font-size: 1rem;
        color: #b8b8b8;
        background: #fdfcf8;
        padding: 0 1rem;
    }
}

/* ============================================
   UTILITIES â€” Extra sketch/doodle helpers
   ============================================ */

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    /* Slight imperfect rotations for that hand-placed feel */
    .tilt-1 {
        transform: rotate(-1deg);
    }
    .tilt-2 {
        transform: rotate(1.2deg);
    }
    .tilt-3 {
        transform: rotate(-0.7deg);
    }
    .tilt-4 {
        transform: rotate(0.8deg);
    }
    .tilt-5 {
        transform: rotate(-1.5deg);
    }

    /* Pencil stroke text effect */
    .pencil-text {
        color: #555;
        text-shadow: 0.5px 0.5px 0px rgba(0, 0, 0, 0.1);
    }

    /* Crossed-out text like a notebook scratch */
    .scratched {
        text-decoration: line-through;
        text-decoration-style: wavy;
        text-decoration-color: #e57373;
        opacity: 0.6;
    }

    /* Highlighted like a marker */
    .marker-yellow {
        background: linear-gradient(
            180deg,
            transparent 55%,
            #fff9c4 55%,
            #fff9c4 90%,
            transparent 90%
        );
        padding: 0 4px;
    }

    .marker-pink {
        background: linear-gradient(
            180deg,
            transparent 55%,
            #fce4ec 55%,
            #fce4ec 90%,
            transparent 90%
        );
        padding: 0 4px;
    }

    .marker-blue {
        background: linear-gradient(
            180deg,
            transparent 55%,
            #e3f2fd 55%,
            #e3f2fd 90%,
            transparent 90%
        );
        padding: 0 4px;
    }

    .marker-green {
        background: linear-gradient(
            180deg,
            transparent 55%,
            #e8f5e9 55%,
            #e8f5e9 90%,
            transparent 90%
        );
        padding: 0 4px;
    }

    /* Arrow pointing right â€” doodle style */
    .doodle-arrow-right::after {
        content: "";
        display: inline-block;
        width: 28px;
        height: 12px;
        margin-left: 6px;
        vertical-align: middle;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28 12'%3E%3Cpath d='M1 6 C5 5, 10 7, 16 6 C18 5.5, 20 6, 22 6' fill='none' stroke='%231a1a1a' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M19 2 L23 6 L19 10' fill='none' stroke='%231a1a1a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-size: contain;
    }

    /* Notebook dot grid background variant */
    .dot-grid {
        background-image: radial-gradient(
            circle,
            #c8d8e8 0.8px,
            transparent 0.8px
        );
        background-size: 24px 24px;
    }

    /* Graph paper grid background variant */
    .graph-paper {
        background-image:
            linear-gradient(#c8d8e8 1px, transparent 1px),
            linear-gradient(90deg, #c8d8e8 1px, transparent 1px);
        background-size: 24px 24px;
        background-color: #fdfcf8;
    }
}

/* ============================================
   CUSTOM SCROLLBAR â€” Pencil/sketch feel
   ============================================ */

::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: #f5f0e8;
    border-left: 1px solid #e0dbd3;
}

::-webkit-scrollbar-thumb {
    background: #ccc8c0;
    border-radius: 0;
    border: 1px solid #b0aca5;
}

::-webkit-scrollbar-thumb:hover {
    background: #b0aca5;
}

/* ============================================
   GLOBAL ANIMATIONS
   ============================================ */

@keyframes wobble {
    0%,
    100% {
        transform: rotate(-0.5deg);
    }
    50% {
        transform: rotate(0.5deg);
    }
}

@keyframes wobble-reverse {
    0%,
    100% {
        transform: rotate(0.7deg);
    }
    50% {
        transform: rotate(-0.7deg);
    }
}

@keyframes scribble {
    0% {
        transform: translate(0, 0) rotate(0deg);
    }
    25% {
        transform: translate(-1px, 1px) rotate(-0.5deg);
    }
    50% {
        transform: translate(1px, -1px) rotate(0.5deg);
    }
    75% {
        transform: translate(-1px, 0px) rotate(-0.3deg);
    }
    100% {
        transform: translate(0, 0) rotate(0deg);
    }
}

@keyframes tape-sway {
    0%,
    100% {
        transform: rotate(-1deg);
    }
    50% {
        transform: rotate(1deg);
    }
}

@keyframes pencil-draw {
    0% {
        stroke-dashoffset: 100%;
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    100% {
        stroke-dashoffset: 0%;
        opacity: 1;
    }
}

@keyframes page-flip {
    0% {
        transform: rotateY(-10deg) scale(0.95);
        opacity: 0;
    }
    100% {
        transform: rotateY(0deg) scale(1);
        opacity: 1;
    }
}

@keyframes doodle-pop {
    0% {
        transform: scale(0) rotate(-10deg);
        opacity: 0;
    }
    60% {
        transform: scale(1.15) rotate(3deg);
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

@keyframes float-gentle {
    0%,
    100% {
        transform: translateY(0px) rotate(0deg);
    }
    50% {
        transform: translateY(-8px) rotate(1deg);
    }
}
